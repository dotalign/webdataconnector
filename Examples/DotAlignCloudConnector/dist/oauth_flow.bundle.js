/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/node-fetch/browser.js":
/*!********************************************!*\
  !*** ./node_modules/node-fetch/browser.js ***!
  \********************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module, __webpack_exports__ */
/*! CommonJS bailout: exports is used directly at 16:17-24 */
/*! CommonJS bailout: module.exports is used directly at 16:0-14 */
/***/ ((module, exports) => {

"use strict";
eval("\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./node_modules/node-fetch/browser.js?");

/***/ }),

/***/ "./node_modules/querystring/decode.js":
/*!********************************************!*\
  !*** ./node_modules/querystring/decode.js ***!
  \********************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module */
/*! CommonJS bailout: module.exports is used directly at 31:0-14 */
/***/ ((module) => {

"use strict";
eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./node_modules/querystring/decode.js?");

/***/ }),

/***/ "./node_modules/querystring/encode.js":
/*!********************************************!*\
  !*** ./node_modules/querystring/encode.js ***!
  \********************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module */
/*! CommonJS bailout: module.exports is used directly at 40:0-14 */
/***/ ((module) => {

"use strict";
eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./node_modules/querystring/encode.js?");

/***/ }),

/***/ "./node_modules/querystring/index.js":
/*!*******************************************!*\
  !*** ./node_modules/querystring/index.js ***!
  \*******************************************/
/*! default exports */
/*! export decode [provided] [no usage info] [missing usage info prevents renaming] */
/*! export encode [provided] [no usage info] [missing usage info prevents renaming] */
/*! export parse [provided] [no usage info] [provision prevents renaming (no use info)] -> ./node_modules/querystring/decode.js */
/*!   exports [maybe provided (runtime-defined)] [no usage info] */
/*! export stringify [provided] [no usage info] [provision prevents renaming (no use info)] -> ./node_modules/querystring/encode.js */
/*!   exports [maybe provided (runtime-defined)] [no usage info] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__ */
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nexports.decode = exports.parse = __webpack_require__(/*! ./decode */ \"./node_modules/querystring/decode.js\");\nexports.encode = exports.stringify = __webpack_require__(/*! ./encode */ \"./node_modules/querystring/encode.js\");\n\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./node_modules/querystring/index.js?");

/***/ }),

/***/ "./src/dc/dotAlignCloud.js":
/*!*********************************!*\
  !*** ./src/dc/dotAlignCloud.js ***!
  \*********************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module, __webpack_require__ */
/*! CommonJS bailout: module.exports is used directly at 200:0-14 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const fetch = __webpack_require__(/*! node-fetch */ \"./node_modules/node-fetch/browser.js\");\r\nconst dotAlignUtils = __webpack_require__(/*! ./dotAlignUtils */ \"./src/dc/dotAlignUtils.js\");\r\n\r\n// POST utility function\r\nasync function postData(url, body) {\r\n  const response = await fetch(url, {\r\n    method: \"POST\",\r\n    body: body,\r\n    headers: {\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n  });\r\n\r\n  console.log(\"Response: \");\r\n  dotAlignUtils.logObject(response);\r\n\r\n  return response.json();\r\n}\r\n\r\n// POST utility function\r\nasync function postDataGetResponse(url, body) {\r\n    const response = await fetch(url, {\r\n      method: \"POST\",\r\n      body: body,\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      },\r\n    });\r\n\r\n    console.log(\"Response: \");\r\n    dotAlignUtils.logObject(response);\r\n\r\n    var responseJson = response.json();\r\n    console.log(\"Response json: \");\r\n    dotAlignUtils.logObject(responseJson);\r\n\r\n    return { \r\n        response: response,\r\n        json: responseJson\r\n    };\r\n  }\r\n\r\n// GET utility function\r\nasync function getData(url, accessToken) {\r\n  const response = await fetch(url, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + accessToken,\r\n    },\r\n  });\r\n\r\n  return response.json();\r\n}\r\n\r\n// This function gets an access token from Azure AD\r\nasync function getAccessToken(environment) {\r\n  var authEndpoint = `https://login.microsoftonline.com/${environment.tenant_id}/oauth2/v2.0/token`;\r\n\r\n  var body =\r\n    `grant_type=${environment.grant_type}&client_id=${environment.client_id}&` +\r\n    `client_secret=${environment.client_secret}&tenant_id=${environment.tenant_id}&scope=${environment.scope}`;\r\n\r\n  var response = await postData(authEndpoint, body);\r\n  return response;\r\n}\r\n\r\nasync function getDataWithRetries(maxRetries, url, accessToken) {\r\n  var tryCount = 0;\r\n  var response = null;\r\n\r\n  while (tryCount < maxRetries) {\r\n    try {\r\n      response = await getData(url, accessToken);\r\n      break;\r\n    } catch (e) {\r\n      console.log(e);\r\n\r\n      tryCount++;\r\n\r\n      if (tryCount == maxRetries) {\r\n        console.log(`Failed to get data after ${maxRetries} tries...`);\r\n        throw {\r\n          exception: e,\r\n          response: response,\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  return response;\r\n}\r\n\r\nasync function getSomeData(apiBaseUrl, accessToken, params, urlCreator) {\r\n    var totalFetchCount = params.totalFetchCount;\r\n    var fetched = 0;\r\n    var areMore = true;\r\n    var maxRetries = 3;\r\n    var data = [];\r\n\r\n    while (areMore && fetched < totalFetchCount) {\r\n        var before = Date.now();\r\n        var url = await urlCreator(apiBaseUrl, params);\r\n        var result = null;\r\n\r\n        try {\r\n            result = await getDataWithRetries(maxRetries, url, accessToken);\r\n\r\n            for (var i = 0; i < result.data.length; i++) {\r\n                data.push(result.data[i]);\r\n            }\r\n        } catch (e) {\r\n            console.log(`And exception was encountered while fetching data. ${fetched} records fetched so far.`);\r\n            e.fetched = fetched;\r\n            throw e;\r\n        }\r\n\r\n        areMore = result.are_more;\r\n        params.skip += params.take;\r\n        fetched += result.data.length;\r\n\r\n        var elapsed = Date.now() - before;\r\n\r\n        console.log(`Fetched ${result.page_start} to ${result.page_end} in ${elapsed} ms`);\r\n    }\r\n\r\n    console.log(`Done...fetched ${fetched} records`);\r\n\r\n    return {\r\n    fetched: fetched,\r\n    data: data,\r\n    };\r\n}\r\n\r\nasync function fetchDC(environment, params, urlCreator) {\r\n    var response = await getAccessToken(environment);\r\n    var accessToken = response.access_token;\r\n    var done = false;\r\n    var fetched = 0;\r\n    var apiBaseUrl = environment.apiBaseUrl;\r\n\r\n    while (!done) {\r\n        params.skip = fetched;\r\n\r\n        var result = null;\r\n\r\n        try {\r\n            var before = process.hrtime();\r\n            result = await getSomeData(apiBaseUrl, accessToken, params, urlCreator);\r\n            var elapsed = process.hrtime(before);\r\n            console.log(`Finished a run in ${elapsed[0]} seconds. ${result.fetched} items were fetched.`);\r\n            done = true;\r\n        } catch (e) {\r\n            dotAlignUtils.logObject(e);\r\n            console.log(`An exception was encountered. Fetched ${e.fetched} so far.`);\r\n            fetched = e.fetched;\r\n            response = await getAccessToken(environment);\r\n            accessToken = response.access_token;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nasync function fetchDCWithAccessToken(\r\n    environment, \r\n    params, \r\n    urlCreator, \r\n    accessToken) {\r\n    var done = false;\r\n    var fetched = 0;\r\n    var apiBaseUrl = environment.apiBaseUrl;\r\n\r\n    if (null == accessToken) { \r\n        var response = await getAccessToken(environment);\r\n        accessToken = response.access_token;\r\n    }\r\n\r\n    while (!done) {\r\n        params.skip = fetched;\r\n\r\n        var result = null;\r\n\r\n        try {\r\n            var before = Date.now();\r\n            result = await getSomeData(apiBaseUrl, accessToken, params, urlCreator);\r\n            var after = Date.now();\r\n            var elapsed = after - before;\r\n            console.log(`Finished a run in ${elapsed} ms. ${result.fetched} items were fetched.`);\r\n            done = true;\r\n        } catch (e) {\r\n            console.log(`An exception was encountered. Fetched ${e.fetched} so far.`);\r\n            console.error(e)\r\n            fetched = e.fetched;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nmodule.exports = {\r\n    postData,\r\n    postDataGetResponse,\r\n    getAccessToken,\r\n    fetchDCWithAccessToken,\r\n    fetchDC \r\n};\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/dc/dotAlignCloud.js?");

/***/ }),

/***/ "./src/dc/dotAlignUrls.js":
/*!********************************!*\
  !*** ./src/dc/dotAlignUrls.js ***!
  \********************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module, __webpack_require__ */
/*! CommonJS bailout: module.exports is used directly at 44:0-14 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const querystring = __webpack_require__(/*! querystring */ \"./node_modules/querystring/index.js\")\r\n\r\nasync function teamMemberFetchUrlCreator(baseUrl, params) {\r\n  var teamNumber = params.teamNumber;\r\n  var skip = params.skip;\r\n  var take = params.take;\r\n  var includeHealthStats = params.includeHealthStats;\r\n  var url = `${baseUrl}/teams/${teamNumber}/members?Skip=${skip}&Take=${take}&IncludeHealthStats=${includeHealthStats}`;\r\n  return url;\r\n}\r\n\r\nasync function contactsFetchUrlCreator(baseUrl, params) {\r\n    var qps = querystring.stringify(params);\r\n    var url = `${baseUrl}/people?${qps}`;\r\n    return url;\r\n}\r\n\r\nasync function companiesFetchUrlCreator(baseUrl, params) {\r\n    var qps = querystring.stringify(params);\r\n    var url = `${baseUrl}/companies?${qps}`;\r\n    return url;\r\n}\r\n\r\nasync function contributorPeopleFetchUrlCreator(baseUrl, params) {\r\n  var teamNumber = params.teamNumber;\r\n  var skip = params.skip;\r\n  var take = params.take;\r\n  var detailLevel = params.detailLevel;\r\n  var contributorKey = params.contributorKey;\r\n  var url = `${baseUrl}/users/${contributorKey}/people?SourceTeam=${teamNumber}&Skip=${skip}&Take=${take}&IncludeDetailLevel=${detailLevel}`;\r\n  return url;\r\n}\r\n\r\nasync function contributorCompaniesFetchUrlCreator(baseUrl, params) {\r\n  var teamNumber = params.teamNumber;\r\n  var skip = params.skip;\r\n  var take = params.take;\r\n  var detailLevel = params.detailLevel;\r\n  var contributorKey = params.contributorKey;\r\n  var url = `${baseUrl}/users/${contributorKey}/companies?SourceTeam=${teamNumber}&Skip=${skip}&Take=${take}&IncludeDetailLevel=${detailLevel}`;\r\n  return url;\r\n}\r\n\r\nmodule.exports = { \r\n    teamMemberFetchUrlCreator, \r\n    contactsFetchUrlCreator,\r\n    companiesFetchUrlCreator,\r\n    contributorPeopleFetchUrlCreator, \r\n    contributorCompaniesFetchUrlCreator \r\n}\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/dc/dotAlignUrls.js?");

/***/ }),

/***/ "./src/dc/dotAlignUtils.js":
/*!*********************************!*\
  !*** ./src/dc/dotAlignUtils.js ***!
  \*********************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module */
/*! CommonJS bailout: module.exports is used directly at 28:0-14 */
/***/ ((module) => {

eval("async function logObject(object) { \r\n  console.log(JSON.stringify(object, null, 5));\r\n}\r\n\r\nasync function asyncExecutor(asyncFuntionToExecute, arg1, arg2) { \r\n  let result;\r\n  \r\n  try {\r\n      var returnValue = await asyncFuntionToExecute(arg1, arg2);\r\n\r\n      result = {\r\n          success: true,\r\n          returnValue: returnValue\r\n      };\r\n  } catch(e) {\r\n      logObject(e);\r\n\r\n      result = {\r\n          success: false,\r\n          error: e,\r\n          returnValue: null\r\n      };\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports = { logObject, asyncExecutor }\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/dc/dotAlignUtils.js?");

/***/ }),

/***/ "./src/dc/fetchers/companies.js":
/*!**************************************!*\
  !*** ./src/dc/fetchers/companies.js ***!
  \**************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module, __webpack_require__ */
/*! CommonJS bailout: module.exports is used directly at 39:0-14 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const dotAlignCloud = __webpack_require__(/*! ../dotAlignCloud */ \"./src/dc/dotAlignCloud.js\");\r\nconst dotAlignUrls = __webpack_require__(/*! ../dotAlignUrls */ \"./src/dc/dotAlignUrls.js\");\r\n\r\nasync function run(\r\n  environment,\r\n  teamNumber,\r\n  count,\r\n  accessToken) {\r\n    var params = {\r\n        teamNumber: teamNumber,\r\n        NumIntroducers: 100,\r\n        NumUrls: 100,\r\n        NumAliases: 100,\r\n        IncludeStats: true,\r\n        SortBy: 'ScoreDesc',\r\n        Skip: 0,\r\n        Take: count,\r\n        totalFetchCount: count\r\n    };\r\n\r\n    var companies = null;\r\n\r\n    if (null == accessToken) { \r\n        companies = await dotAlignCloud.fetchDC(\r\n            environment, \r\n            params, \r\n            dotAlignUrls.companiesFetchUrlCreator);\r\n    } else {\r\n        companies = await dotAlignCloud.fetchDCWithAccessToken(\r\n            environment, \r\n            params, \r\n            dotAlignUrls.companiesFetchUrlCreator,\r\n            accessToken);\r\n    }\r\n\r\n    return companies;\r\n}\r\n\r\nmodule.exports = { run }\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/dc/fetchers/companies.js?");

/***/ }),

/***/ "./src/dc/fetchers/contacts.js":
/*!*************************************!*\
  !*** ./src/dc/fetchers/contacts.js ***!
  \*************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module, __webpack_require__ */
/*! CommonJS bailout: module.exports is used directly at 33:0-14 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const dotAlignCloud = __webpack_require__(/*! ../dotAlignCloud */ \"./src/dc/dotAlignCloud.js\");\r\nconst dotAlignUrls = __webpack_require__(/*! ../dotAlignUrls */ \"./src/dc/dotAlignUrls.js\");\r\n\r\nasync function run(\r\n  environment,\r\n  teamNumber,\r\n  count,\r\n  accessToken) {\r\n    var params = {\r\n        teamNumber: teamNumber,\r\n        ColleagueFlag: 'External',\r\n        NumIntroducers: 100,\r\n        NumAliases: 100,\r\n        NumJobs: 100,\r\n        NumPhones: 100,\r\n        NumEmails: 100,\r\n        IncludeStats: true,\r\n        SortBy: 'ScoreDesc',\r\n        Skip: 0,\r\n        Take: count,\r\n        totalFetchCount: count\r\n    };\r\n\r\n    var contacts = await dotAlignCloud.fetchDCWithAccessToken(\r\n        environment, \r\n        params, \r\n        dotAlignUrls.contactsFetchUrlCreator,\r\n        accessToken);\r\n\r\n    return contacts;\r\n}\r\n\r\nmodule.exports = { run }\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/dc/fetchers/contacts.js?");

/***/ }),

/***/ "./src/dc/helpers.js":
/*!***************************!*\
  !*** ./src/dc/helpers.js ***!
  \***************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module, __webpack_require__ */
/*! CommonJS bailout: module.exports is used directly at 56:0-14 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// require('dotenv').config();\r\nconst dotAlignUtils = __webpack_require__(/*! ./dotAlignUtils */ \"./src/dc/dotAlignUtils.js\");\r\n\r\nfunction getEnvironmentParams() {\r\n  return environment = {\r\n      // Info related to the DotAlign Cloud API\r\n      apiBaseUrl: \"https://dotalign-obhnbxktkccdo-webapp.azurewebsites.net/api\",\r\n      // apiBaseUrl: \"https://qa.dotalign.com/api\",\r\n      // apiBaseUrl: \"https://dotalign-gcoajfbcgsrka-webapp.azurewebsites.net\",\r\n      tenant_id: \"ef816895-7d31-42b9-a2e6-a2cc244e05c5\",\r\n      grant_type: \"client_credentials\",\r\n      client_id: \"f4ac093f-f62c-49c6-ad79-b84ac4fe79c1\",\r\n      client_secret: \"5RzN~P7dF.irA5b8~dw3XUA.nLheXSb-Jg\",\r\n      scope: \"128721d7-3cc6-44b0-97a2-b709323602af/.default\",\r\n\r\n      // The server to help with OAuth\r\n      oAuthBaseUrl: \"http://localhost\",\r\n      oAuthPort: 5001,\r\n      redirect: \"/redirect\",\r\n\r\n      // The tableau server\r\n      tableauBaseUrl: \"http://localhost\",\r\n      tableauPort: 8888\r\n  };\r\n}\r\n\r\nasync function printPeople(people) { \r\n  for (var i = 0; i < people.length; i++) {\r\n    var person = { \r\n      name: people[i].PersonNameText,\r\n      emailAddress: people[i].BestEmailAddrText,\r\n      companyName: people[i].BestJobMatchedCompanyName,\r\n      jobTitle: people[i].BestJobTitleText,\r\n      bestIntroducer: people[i].BestKnowerNameText,\r\n      phoneNumber: people[i].BestPhoneText,\r\n      relationshipScore: people[i].WeKnowPersonScore\r\n    };\r\n\r\n    dotAlignUtils.logObject(person);\r\n  }\r\n}\r\n\r\nasync function printTeamMembers(members) {\r\n  for (var i = 0; i < members.length; i++) {\r\n    var member = { \r\n      name: members[i].name,\r\n      emailAddress: members[i].email,\r\n      teamName: members[i].teamName,\r\n      teamNumber: members[i].teamNumber\r\n    };\r\n\r\n    dotAlignUtils.logObject(member);\r\n  }\r\n}\r\n\r\nmodule.exports = { getEnvironmentParams, printPeople, printTeamMembers };\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/dc/helpers.js?");

/***/ }),

/***/ "./src/tableau/dotAlignTableau.js":
/*!****************************************!*\
  !*** ./src/tableau/dotAlignTableau.js ***!
  \****************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module, __webpack_require__ */
/*! CommonJS bailout: module.exports is used directly at 92:0-14 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var helpers = __webpack_require__(/*! ../dc/helpers */ \"./src/dc/helpers.js\");\r\nvar dotAlignUtils = __webpack_require__(/*! ../dc/dotAlignUtils */ \"./src/dc/dotAlignUtils.js\");\r\nvar companySchema = __webpack_require__(/*! ./schema/company */ \"./src/tableau/schema/company.js\");\r\nvar contactSchema = __webpack_require__(/*! ./schema/contact */ \"./src/tableau/schema/contact.js\");\r\nvar companiesFetcher = __webpack_require__(/*! ../dc/fetchers/companies */ \"./src/dc/fetchers/companies.js\");\r\nvar contactsFetcher = __webpack_require__(/*! ../dc/fetchers/contacts */ \"./src/dc/fetchers/contacts.js\");\r\nvar companyTransformer = __webpack_require__(/*! ./transformers/company */ \"./src/tableau/transformers/company.js\");\r\nvar contactTransformer = __webpack_require__(/*! ./transformers/contact */ \"./src/tableau/transformers/contact.js\");\r\n\r\nfunction getSchema(schemaCallback) { \r\n    schemaCallback([contactSchema.getSchema(), companySchema.getSchema()]);\r\n};\r\n\r\nasync function getData(accessToken, table, tableau) {\r\n    var environment = helpers.getEnvironmentParams();\r\n    var teamNumber = 1;\r\n    var rows = [];\r\n\r\n    var result = await getDataFromDotAlign(\r\n        accessToken, \r\n        environment, \r\n        teamNumber,\r\n        table.tableInfo.id, \r\n        tableau);\r\n\r\n    switch (table.tableInfo.id) { \r\n        \r\n        case contactSchema.getTableName(): \r\n            rows = contactTransformer.transform(result, tableau);\r\n            break;\r\n\r\n        case companySchema.getTableName(): \r\n            rows = companyTransformer.transform(result, tableau);\r\n            break;\r\n\r\n        default:\r\n            throw `Unexpected table name: ${table.tableInfo.id}`;\r\n    }\r\n\r\n    return rows;\r\n};\r\n\r\nasync function getDataFromDotAlign(\r\n    accessToken,\r\n    environment, \r\n    teamNumber,\r\n    category,\r\n    tableau) {\r\n\r\n    var countToFetch = 500;\r\n\r\n    if (null != tableau) { \r\n        tableau.reportProgress(\"Starting to fetch data from DotAlign...\");\r\n    }\r\n\r\n    var result = null;\r\n\r\n    switch (category) {\r\n        \r\n        case contactSchema.getTableName():\r\n            \r\n            result = await contactsFetcher.run(\r\n                environment,\r\n                teamNumber,\r\n                countToFetch,\r\n                accessToken);\r\n\r\n            break;\r\n        \r\n        case companySchema.getTableName():\r\n\r\n            result = await companiesFetcher.run(\r\n                environment, \r\n                teamNumber,\r\n                countToFetch, \r\n                accessToken);\r\n\r\n            break;\r\n        \r\n        default:\r\n\r\n            throw `Unexpected category of data requested: ${category}` \r\n    }\r\n\r\n    if (null != tableau) {\r\n        tableau.reportProgress(\"Done fetching data from DotAlign\");\r\n    }\r\n\r\n    return result.data;\r\n}\r\n\r\nmodule.exports = {\r\n    getSchema,\r\n    getData \r\n};\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/tableau/dotAlignTableau.js?");

/***/ }),

/***/ "./src/tableau/schema/company.js":
/*!***************************************!*\
  !*** ./src/tableau/schema/company.js ***!
  \***************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module */
/*! CommonJS bailout: module.exports is used directly at 76:0-14 */
/***/ ((module) => {

eval("function getTableName() { \r\n    return 'Company';\r\n}\r\n\r\nfunction getSchema() { \r\n    var companyColumns = [{\r\n        id: \"company_id\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_name\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_url\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"relationship_score\",\r\n        dataType: tableau.dataTypeEnum.int\r\n    }, {\r\n        id: \"best_contact_name\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_contact_job_title\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_introducer_name\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_introducer_contact_relationship_score\",\r\n        dataType: tableau.dataTypeEnum.int\r\n    }, {\r\n        id: \"best_introducer_id\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"latest_meeting_date\",\r\n        dataType: tableau.dataTypeEnum.datetime\r\n    }, {\r\n        id: \"latest_meeting_with_contact\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, { \r\n        id: \"latest_meeting_with_colleague\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {   \r\n        id: \"latest_inbound_message_date\", \r\n        dataType: tableau.dataTypeEnum.datetime\r\n    }, { \r\n        id: \"latest_inbound_message_with_contact\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, { \r\n        id: \"latest_inbound_message_with_colleague\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, { \r\n        id: \"latest_outbound_email_date\",\r\n        dataType: tableau.dataTypeEnum.datetime\r\n    }, { \r\n        id: \"latest_outbound_message_with_contact\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, { \r\n        id: \"latest_outbound_message_with_colleague\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, { \r\n        id: \"urls\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, { \r\n        id: \"names\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }];\r\n\r\n    var companyTableSchema = {\r\n        id: getTableName(),\r\n        columns: companyColumns\r\n    };\r\n\r\n    return companyTableSchema;\r\n};\r\n\r\nmodule.exports = {\r\n    getTableName,\r\n    getSchema\r\n};\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/tableau/schema/company.js?");

/***/ }),

/***/ "./src/tableau/schema/contact.js":
/*!***************************************!*\
  !*** ./src/tableau/schema/contact.js ***!
  \***************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module */
/*! CommonJS bailout: module.exports is used directly at 61:0-14 */
/***/ ((module) => {

eval("function getTableName() { \r\n    return 'Contact';\r\n}\r\n\r\nfunction getSchema() { \r\n    var contactColumns = [{\r\n        id: \"contact_id\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_name\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_email_address\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_job_title\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_company_name\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"relationship_score\",\r\n        dataType: tableau.dataTypeEnum.int\r\n    }, {\r\n        id: \"best_introducer_name\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_introducer_relationship_score\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"best_introducer_id\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {\r\n        id: \"latest_meeting_date\",\r\n        dataType: tableau.dataTypeEnum.datetime\r\n    }, {\r\n        id: \"latest_meeting_with_colleague\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, { \r\n        id: \"latest_outbound_message_date\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }, {   \r\n        id: \"latest_outbound_message_with_colleague\", \r\n        dataType: tableau.dataTypeEnum.datetime\r\n    }, { \r\n        id: \"latest_inbound_message_date\",\r\n        dataType: tableau.dataTypeEnum.datetime\r\n    }, { \r\n        id: \"latest_inbound_message_with_colleague\",\r\n        dataType: tableau.dataTypeEnum.string\r\n    }];\r\n\r\n    var contactTableSchema = {\r\n        id: getTableName(),\r\n        columns: contactColumns\r\n    };\r\n\r\n    return contactTableSchema;\r\n}\r\n\r\nmodule.exports = {\r\n    getTableName,\r\n    getSchema\r\n};\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/tableau/schema/contact.js?");

/***/ }),

/***/ "./src/tableau/transformers/company.js":
/*!*********************************************!*\
  !*** ./src/tableau/transformers/company.js ***!
  \*********************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module */
/*! CommonJS bailout: module.exports is used directly at 75:0-14 */
/***/ ((module) => {

eval("function transform(dotAlignCompanies, tableau) { \r\n    var tableauCompanies=[];\r\n\r\n    for (i = 0; i < dotAlignCompanies.length; i++) {\r\n        var company = dotAlignCompanies[i];\r\n        \r\n        if (null == company.Stats) { \r\n            company.Stats = {};\r\n        }\r\n\r\n        var row = {\r\n            'company_id': company.CompanyMd5,\r\n            'best_name': company.CompanyNameText,\r\n            'best_url': company.BestUrlText,\r\n            \r\n            'relationship_score': company.Score,\r\n            'best_contact_name': company.AnchorEmployeeNameText,\r\n            'best_contact_job_title': company.AnchorTitleText,\r\n            \r\n            'latest_meeting_date': company.Stats.LastMeeting,\r\n            'latest_meeting_with_colleague': company.Stats.LastMeetingUserName,\r\n            'latest_meeting_with_contact': company.Stats.LastMeetingContactName,\r\n            'latest_inbound_message_date': company.Stats.LastInboundMsg,\r\n            'latest_inbound_message_with_contact': company.Stats.LastInboundMsgContactName,\r\n            'latest_inbound_message_with_colleague': company.Stats.LastInboundMsgUserName,\r\n            'latest_outbound_message_date': company.Stats.LastOutboundMsg,\r\n            'latest_outbound_message_with_colleague': company.Stats.LastOutboundMsgUserName,\r\n            'latest_outbound_message_with_contact': company.Stats.LastOutboundMsgContactName\r\n        };\r\n\r\n        var topIntroducer = null;\r\n\r\n        if (null !=  company.Introducers && null != company.Introducers.data) { \r\n            topIntroducer = company.Introducers.data[0];\r\n        }\r\n\r\n        if (null != topIntroducer) {\r\n            row['best_introducer_name'] = topIntroducer.IntroducerName;\r\n            row['best_introducer_contact_relationship_score'] = topIntroducer.IntroducerScore;\r\n            row['best_introducer_id'] = topIntroducer.IntroducerUserKey;\r\n        }\r\n\r\n        // if (company.Urls != null) {\r\n        //     var urls = [];\r\n\r\n        //     for (j = 0; j < company.Urls.data.length; j++) { \r\n        //         var url = company.Urls.data[j].UrlText;\r\n        //         urls.push(url);\r\n        //     }\r\n        \r\n        //     row.urls = urls;\r\n        // }\r\n\r\n        // if (company.Aliases != null) {\r\n        //     var names = [];\r\n\r\n        //     for (k = 0; k < company.Aliases.data.length; k++) { \r\n        //         var name = company.Aliases.data[k].NameText;\r\n        //         names.push(name);\r\n        //     }\r\n\r\n        //     row.names = names;\r\n        // }\r\n\r\n        tableauCompanies.push(row);\r\n    }\r\n\r\n    if (null != tableau) {\r\n        tableau.reportProgress(\"Done converting data from DotAlign to Tableau format\");\r\n    }\r\n\r\n    return tableauCompanies;\r\n}\r\n\r\nmodule.exports = {\r\n    transform\r\n};\r\n\r\n// {\r\n//     \"CompanyMd5\": \"3117baaa96200869bd5251f7a3085f03\",\r\n//     \"CompanyNameText\": \"General Atlantic\",\r\n//     \"BestUrlText\": \"generalatlantic.com\",\r\n//     \"WeKnowCompany\": \"9e7913227ae0c484b744ee029235ccf0\",\r\n//     \"AnchorEmployeeBestKnowerP2PScore\": 91,\r\n//     \"AnchorEmployeePersonMd5\": \"33d006b6fb223899a3039a04dc096aa9\",\r\n//     \"AnchorEmployeeNameText\": \"Diana Long\",\r\n//     \"AnchorJobCompanyName\": \"General Atlantic\",\r\n//     \"AnchorTitleText\": \"Director, IT Project Manager\",\r\n//     \"AnchorEmployeeSeniorityLevel\": \"SVP\",\r\n//     \"Score\": 100,\r\n//     \"Stats\": {\r\n//       \"CompanyMd5\": \"3117baaa96200869bd5251f7a3085f03\",\r\n//       \"FirstInboundMsg\": \"2012-07-30T17:15:42Z\",\r\n//       \"FirstInboundMsgContactMd5\": \"21e44d8b4868dd201f7fbe7da86959b4\",\r\n//       \"FirstInboundMsgUserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//       \"FirstMeeting\": \"2016-02-11T14:30:00Z\",\r\n//       \"FirstMeetingContactMd5\": \"36567df66a7427ba9bfaf3e2f505d08e\",\r\n//       \"FirstMeetingUserKeyMd5\": \"a1fe921a2b69bd63c6be18369b646942\",\r\n//       \"FirstOutboundMsg\": \"2012-07-27T22:21:50Z\",\r\n//       \"FirstOutboundMsgContactMd5\": \"21e44d8b4868dd201f7fbe7da86959b4\",\r\n//       \"FirstOutboundMsgUserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//       \"LastInboundMsg\": \"2020-10-06T17:53:26Z\",\r\n//       \"LastInboundMsgContactMd5\": \"33d006b6fb223899a3039a04dc096aa9\",\r\n//       \"LastInboundMsgUserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//       \"LastMeeting\": \"2020-10-07T17:00:00Z\",\r\n//       \"LastMeetingContactMd5\": \"33d006b6fb223899a3039a04dc096aa9\",\r\n//       \"LastMeetingUserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//       \"LastOutboundMsg\": \"2020-12-22T20:36:54Z\",\r\n//       \"LastOutboundMsgContactMd5\": \"33d006b6fb223899a3039a04dc096aa9\",\r\n//       \"LastOutboundMsgUserKeyMd5\": \"94b0857c5545bc25ce89bcfc1d9e009a\",\r\n//       \"NumInboundMsgs\": 3627,\r\n//       \"NumMeetings\": 412,\r\n//       \"NumOutboundMsgs\": 3004,\r\n//       \"LastMeetingContactName\": \"Diana Long\",\r\n//       \"LastOutboundMsgContactName\": \"Diana Long\",\r\n//       \"LastInboundMsgContactName\": \"Diana Long\",\r\n//       \"FirstMeetingContactName\": \"Marija Periša Kegel\",\r\n//       \"FirstOutboundMsgContactName\": \"Drew Pearson\",\r\n//       \"FirstInboundMsgContactName\": \"Drew Pearson\",\r\n//       \"LastMeetingUserName\": \"Vince Scafaria\",\r\n//       \"LastOutboundMsgUserName\": \"Alexandra McIlraith\",\r\n//       \"LastInboundMsgUserName\": \"Vince Scafaria\",\r\n//       \"FirstMeetingUserName\": \"Jaspreet Bakshi\",\r\n//       \"FirstOutboundMsgUserName\": \"Vince Scafaria\",\r\n//       \"FirstInboundMsgUserName\": \"Vince Scafaria\"\r\n//     },\r\n//     \"Urls\": {\r\n//       \"data\": [\r\n//         {\r\n//           \"CoUrl\": \"generalatlantic.com\",\r\n//           \"IdentifierMd5\": \"97f6eccd69e9477f0f107240c1eefe21\",\r\n//           \"CurrentAsOf\": \"2020-10-07T17:00:00Z\"\r\n//         },\r\n//         {\r\n//           \"CoUrl\": \"gapartners.com\",\r\n//           \"IdentifierMd5\": \"74ac6e6248706071653a210aae8f4cd8\",\r\n//           \"CurrentAsOf\": \"2015-12-11T17:48:25Z\"\r\n//         }\r\n//       ],\r\n//       \"total_item_count\": 2,\r\n//       \"page_start\": 1,\r\n//       \"page_end\": 2,\r\n//       \"are_more\": false\r\n//     },\r\n//     \"Aliases\": {\r\n//       \"data\": [\r\n//         {\r\n//           \"CoNameAlias\": \"General Atlantic\",\r\n//           \"IdentifierMd5\": \"3117baaa96200869bd5251f7a3085f03\",\r\n//           \"CurrentAsOf\": \"2021-01-14T14:40:26.123Z\"\r\n//         },\r\n//         {\r\n//           \"CoNameAlias\": \"General Atlantic LLC\",\r\n//           \"IdentifierMd5\": \"5add3130bc641477286a4d3a58caddd6\",\r\n//           \"CurrentAsOf\": \"2021-01-01T17:11:51.513Z\"\r\n//         },\r\n//         {\r\n//           \"CoNameAlias\": \"General Atlantic Services L.P.\",\r\n//           \"IdentifierMd5\": \"44008631f3aa6f628c7157d44f07599a\",\r\n//           \"CurrentAsOf\": \"2020-09-29T13:26:38Z\"\r\n//         },\r\n//         {\r\n//           \"CoNameAlias\": \"General Atlantic Pvt. Ltd.\",\r\n//           \"IdentifierMd5\": \"dba581350ee52e5ee4d9c69291bf323c\",\r\n//           \"CurrentAsOf\": \"2016-09-06T04:41:31Z\"\r\n//         }\r\n//       ],\r\n//       \"total_item_count\": 4,\r\n//       \"page_start\": 1,\r\n//       \"page_end\": 4,\r\n//       \"are_more\": false\r\n//     },\r\n//     \"Introducers\": {\r\n//       \"data\": [\r\n//         {\r\n//           \"IntroducerScore\": 96,\r\n//           \"IntroducerName\": \"Vince Scafaria\",\r\n//           \"IntroducerUserKey\": \"8e9020cd702459b111f77e758cb7258d\"\r\n//         },\r\n//         {\r\n//           \"IntroducerScore\": 89,\r\n//           \"IntroducerName\": \"Jaspreet Bakshi\",\r\n//           \"IntroducerUserKey\": \"a1fe921a2b69bd63c6be18369b646942\"\r\n//         },\r\n//         {\r\n//           \"IntroducerScore\": 60,\r\n//           \"IntroducerName\": \"Alexandra McIlraith\",\r\n//           \"IntroducerUserKey\": \"94b0857c5545bc25ce89bcfc1d9e009a\"\r\n//         },\r\n//         {\r\n//           \"IntroducerScore\": 5,\r\n//           \"IntroducerName\": \"Amitoj Kapoor\",\r\n//           \"IntroducerUserKey\": \"9420855ef4aa2c08dd944fa303486169\"\r\n//         }\r\n//       ],\r\n//       \"total_item_count\": 4,\r\n//       \"page_start\": 1,\r\n//       \"page_end\": 4,\r\n//       \"are_more\": false\r\n//     }\r\n//   }\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/tableau/transformers/company.js?");

/***/ }),

/***/ "./src/tableau/transformers/contact.js":
/*!*********************************************!*\
  !*** ./src/tableau/transformers/contact.js ***!
  \*********************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module */
/*! CommonJS bailout: module.exports is used directly at 70:0-14 */
/***/ ((module) => {

eval("function transform(dotAlignContacts, tableau) { \r\n    var tableauContacts=[];\r\n\r\n    for (i = 0; i < dotAlignContacts.length; i++) {\r\n        var contact = dotAlignContacts[i];\r\n        \r\n        if (null == contact.Stats) { \r\n            contact.Stats = {};\r\n        }\r\n\r\n        var row = {\r\n            'contact_id': contact.PersonMd5,\r\n            'best_name': contact.PersonNameText,\r\n            'best_email_address': contact.BestEmailAddrText,\r\n            'best_job_title': contact.BestJobTitleText,\r\n            'best_company_name': contact.BestJobMatchedCompanyName || contact.BestJobCorpLevelCompanyName,\r\n\r\n            'relationship_score': contact.Score,\r\n\r\n            \"latest_meeting_date\": contact.Stats.LastMeeting,\r\n            \"latest_meeting_with_colleague\": contact.Stats.LastMeetingUserName,\r\n            \"latest_inbound_message_date\": contact.Stats.LastOutboundMsg,\r\n            \"latest_inbound_message_with_colleague\": contact.Stats.FirstOutboundMsgUserName,\r\n            \"latest_outbound_message_date\": contact.Stats.LastInboundMsg,\r\n            \"latest_outbound_message_with_colleague\": contact.Stats.LastInboundMsgUserName,\r\n        };\r\n\r\n        var topIntroducer = null;\r\n\r\n        if (null !=  contact.Introducers && null != contact.Introducers.data) { \r\n            topIntroducer = contact.Introducers.data[0];\r\n        }\r\n\r\n        if (null != topIntroducer) {\r\n            row['best_introducer_name'] = topIntroducer.IntroducerName;\r\n            row['best_introducer_relationship_score'] = topIntroducer.ScorePoints;\r\n            row['best_introducer_id'] = topIntroducer.UserKeyMd5;\r\n        }\r\n\r\n        // if (contact.Urls != null) {\r\n        //     var urls = [];\r\n\r\n        //     for (j = 0; j < contact.Urls.data.length; j++) { \r\n        //         var url = contact.Urls.data[j].UrlText;\r\n        //         urls.push(url);\r\n        //     }\r\n        \r\n        //     row.urls = urls;\r\n        // }\r\n\r\n        // if (contact.Aliases != null) {\r\n        //     var names = [];\r\n\r\n        //     for (k = 0; k < contact.Aliases.data.length; k++) { \r\n        //         var name = contact.Aliases.data[k].NameText;\r\n        //         names.push(name);\r\n        //     }\r\n\r\n        //     row.names = names;\r\n        // }\r\n\r\n        tableauContacts.push(row);\r\n    }\r\n\r\n    tableau.reportProgress(\"Done converting data from DotAlign to Tableau format\");\r\n\r\n    return tableauContacts;\r\n}\r\n\r\nmodule.exports = {\r\n    transform\r\n};\r\n\r\n// {\r\n//     \"PersonMd5\": \"610ab07ec95992af4097c3c8e7f7ca1f\",\r\n//     \"PersonNameText\": \"Martin Wise\",\r\n//     \"BestJobTitleText\": \"CEO\",\r\n//     \"BestJobCorpLevelCompanyName\": \"RelPro, Inc.\",\r\n//     \"BestJobMatchedCompanyName\": \"RelPro, Inc.\",\r\n//     \"BestJobCompanyMd5\": \"32d21b1be438e7d433272ad1024ef246\",\r\n//     \"BestEmailAddrText\": \"mwise@relpro.com\",\r\n//     \"BestEmailCurrentAsOf\": \"2020-12-22T20:53:20Z\",\r\n//     \"BestPhoneText\": \"+19089624881\",\r\n//     \"BestPhoneType\": \"Mobile\",\r\n//     \"BestPhoneCurrentAsOf\": \"2020-12-22T20:53:20Z\",\r\n//     \"Score\": 100,\r\n//     \"Stats\": {\r\n//       \"ContactMd5\": \"610ab07ec95992af4097c3c8e7f7ca1f\",\r\n//       \"FirstInboundMsg\": \"2016-10-13T15:29:08Z\",\r\n//       \"FirstInboundMsgUserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//       \"FirstMeeting\": \"2016-10-01T11:30:00Z\",\r\n//       \"FirstMeetingUserKeyMd5\": \"a1fe921a2b69bd63c6be18369b646942\",\r\n//       \"FirstOutboundMsg\": \"2016-10-14T01:11:14Z\",\r\n//       \"FirstOutboundMsgUserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//       \"LastInboundMsg\": \"2020-12-22T20:53:20Z\",\r\n//       \"LastInboundMsgUserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//       \"LastMeeting\": \"2020-09-01T17:00:00Z\",\r\n//       \"LastMeetingUserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//       \"LastOutboundMsg\": \"2020-12-22T20:56:29Z\",\r\n//       \"LastOutboundMsgUserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//       \"NumInboundMsgs\": 303,\r\n//       \"NumMeetings\": 52,\r\n//       \"NumOutboundMsgs\": 222,\r\n//       \"LastMeetingUserName\": \"Vince Scafaria\",\r\n//       \"LastOutboundMsgUserName\": \"Vince Scafaria\",\r\n//       \"LastInboundMsgUserName\": \"Vince Scafaria\",\r\n//       \"FirstMeetingUserName\": \"Jaspreet Bakshi\",\r\n//       \"FirstOutboundMsgUserName\": \"Vince Scafaria\",\r\n//       \"FirstInboundMsgUserName\": \"Vince Scafaria\"\r\n//     },\r\n//     \"Phones\": {\r\n//       \"data\": [\r\n//         {\r\n//           \"PersonMd5\": \"610ab07ec95992af4097c3c8e7f7ca1f\",\r\n//           \"CurrentAsOf\": \"2020-12-22T20:53:20Z\",\r\n//           \"StandardizedPhoneNumber\": \"+19089624881\",\r\n//           \"PhoneType\": \"Mobile\"\r\n//         }\r\n//       ],\r\n//       \"total_item_count\": 1,\r\n//       \"page_start\": 1,\r\n//       \"page_end\": 1,\r\n//       \"are_more\": false\r\n//     },\r\n//     \"Emails\": {\r\n//       \"data\": [\r\n//         {\r\n//           \"PersonMd5\": \"610ab07ec95992af4097c3c8e7f7ca1f\",\r\n//           \"AddressText\": \"mwise@relpro.com\",\r\n//           \"CurrentAsOf\": \"2020-12-22T20:53:20Z\",\r\n//           \"IdentifierMd5\": \"614a66ba81b94bbf007cabee935a0b22\"\r\n//         }\r\n//       ],\r\n//       \"total_item_count\": 1,\r\n//       \"page_start\": 1,\r\n//       \"page_end\": 1,\r\n//       \"are_more\": false\r\n//     },\r\n//     \"Names\": {\r\n//       \"data\": [\r\n//         {\r\n//           \"StandardizedName\": \"Martin Wise\",\r\n//           \"IdentifierMd5\": \"610ab07ec95992af4097c3c8e7f7ca1f\",\r\n//           \"CurrentAsOf\": \"2021-01-14T14:40:26.12Z\"\r\n//         }\r\n//       ],\r\n//       \"total_item_count\": 1,\r\n//       \"page_start\": 1,\r\n//       \"page_end\": 1,\r\n//       \"are_more\": false\r\n//     },\r\n//     \"Introducers\": {\r\n//       \"data\": [\r\n//         {\r\n//           \"UserKeyMd5\": \"8e9020cd702459b111f77e758cb7258d\",\r\n//           \"ScorePoints\": 100,\r\n//           \"IntroducerName\": \"Vince Scafaria\",\r\n//           \"IntroducerPersonKeyMd5\": \"197f7b7bd4766ab895264b41de3cb176\",\r\n//           \"IntroducerBestJobCompanyMd5\": \"2108662b27b32c535a7e4699c31064c7\",\r\n//           \"IntroducerBestJobCorpLevelCompanyName\": \"DotAlign, Inc.\",\r\n//           \"IntroducerBestJobMatchedCompanyName\": \"DotAlign, Inc.\",\r\n//           \"IntroducerBestJobTitleText\": \"CEO\"\r\n//         },\r\n//         {\r\n//           \"UserKeyMd5\": \"a1fe921a2b69bd63c6be18369b646942\",\r\n//           \"ScorePoints\": 60,\r\n//           \"IntroducerName\": \"Jaspreet Bakshi\",\r\n//           \"IntroducerPersonKeyMd5\": \"218363f35a6fac75521a94dfd5f867d2\",\r\n//           \"IntroducerBestJobCompanyMd5\": \"2108662b27b32c535a7e4699c31064c7\",\r\n//           \"IntroducerBestJobCorpLevelCompanyName\": \"DotAlign, Inc.\",\r\n//           \"IntroducerBestJobMatchedCompanyName\": \"DotAlign\",\r\n//           \"IntroducerBestJobTitleText\": \"CTO\"\r\n//         },\r\n//         {\r\n//           \"UserKeyMd5\": \"94b0857c5545bc25ce89bcfc1d9e009a\",\r\n//           \"ScorePoints\": 21,\r\n//           \"IntroducerName\": \"Alexandra McIlraith\",\r\n//           \"IntroducerPersonKeyMd5\": \"63f00b7d593fa35c99461956e16cd92a\",\r\n//           \"IntroducerBestJobCompanyMd5\": \"2108662b27b32c535a7e4699c31064c7\",\r\n//           \"IntroducerBestJobCorpLevelCompanyName\": \"DotAlign, Inc.\",\r\n//           \"IntroducerBestJobMatchedCompanyName\": \"DotAlign, Inc.\",\r\n//           \"IntroducerBestJobTitleText\": \"Product Manager\"\r\n//         },\r\n//         {\r\n//           \"UserKeyMd5\": \"9420855ef4aa2c08dd944fa303486169\",\r\n//           \"ScorePoints\": 1,\r\n//           \"IntroducerName\": \"Amitoj Kapoor\",\r\n//           \"IntroducerPersonKeyMd5\": \"01f050f0428ce95fad52f13aa4ac43fd\",\r\n//           \"IntroducerBestJobCompanyMd5\": \"2108662b27b32c535a7e4699c31064c7\",\r\n//           \"IntroducerBestJobCorpLevelCompanyName\": \"DotAlign, Inc.\",\r\n//           \"IntroducerBestJobMatchedCompanyName\": \"DotAlign, Inc.\",\r\n//           \"IntroducerBestJobTitleText\": \"Software Engineer\"\r\n//         }\r\n//       ],\r\n//       \"total_item_count\": 4,\r\n//       \"page_start\": 1,\r\n//       \"page_end\": 4,\r\n//       \"are_more\": false\r\n//     },\r\n//     \"Jobs\": {\r\n//       \"data\": [\r\n//         {\r\n//           \"JobCoName\": \"RelPro, Inc.\",\r\n//           \"JobCorpLevelName\": \"RelPro, Inc.\",\r\n//           \"JobCurrentAsOf\": \"2021-01-14T14:40:26.12Z\",\r\n//           \"JobTitleText\": \"CEO\"\r\n//         }\r\n//       ],\r\n//       \"total_item_count\": 1,\r\n//       \"page_start\": 1,\r\n//       \"page_end\": 1,\r\n//       \"are_more\": false\r\n//     }\r\n// }\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/tableau/transformers/contact.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
(() => {
/*!***********************************!*\
  !*** ./src/tableau/oauth_flow.js ***!
  \***********************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: __webpack_require__ */
eval("var helpers = __webpack_require__(/*! ../dc/helpers */ \"./src/dc/helpers.js\");\r\nvar dotalignTableau = __webpack_require__(/*! ./dotAlignTableau */ \"./src/tableau/dotAlignTableau.js\");\r\n\r\n(function() {\r\n    // Create the connector object\r\n    var dotalignConnector = tableau.makeConnector();\r\n\r\n    dotalignConnector.init = function(initCallback) {\r\n        tableau.authType = tableau.authTypeEnum.custom;\r\n\r\n        // If we are in the auth phase we only want to show the UI needed for auth\r\n        if (tableau.phase == tableau.phaseEnum.authPhase) {\r\n            $(\"#submitButton\").css('display', 'none');\r\n        }\r\n\r\n        if (tableau.phase == tableau.phaseEnum.gatherDataPhase) {\r\n            // If the API that WDC is using has an endpoint that checks\r\n            // the validity of an access token, that could be used here.\r\n            // Then the WDC can call tableau.abortForAuth if that access token\r\n            // is invalid.\r\n        }\r\n\r\n        var accessToken = Cookies.get(\"accessToken\");\r\n\r\n        console.log('About to check hasAuth');\r\n\r\n        var hasAuth = (accessToken && accessToken.length > 0) || tableau.password.length > 0;\r\n        updateUIWithAuthState(hasAuth);\r\n\r\n        initCallback();\r\n\r\n        // If we are not in the data gathering phase, we want to store the token\r\n        // This allows us to access the token in the data gathering phase\r\n        if (tableau.phase == tableau.phaseEnum.interactivePhase || \r\n            tableau.phase == tableau.phaseEnum.authPhase) {\r\n            if (hasAuth) {\r\n                tableau.password = accessToken;\r\n\r\n                if (tableau.phase == tableau.phaseEnum.authPhase) {\r\n                    // Auto-submit here if we are in the auth phase\r\n                    tableau.submit()\r\n                }\r\n\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Define the schema\r\n    dotalignConnector.getSchema = function(schemaCallback) {\r\n        dotalignTableau.getSchema(schemaCallback);\r\n    };\r\n\r\n    dotalignConnector.getData = function(table, doneCallback) {\r\n        var accessToken = Cookies.get(\"accessToken\") || tableau.password;\r\n        \r\n        dotalignTableau.getData(\r\n            accessToken, \r\n            table,\r\n            tableau)\r\n            .then(rows => { \r\n                table.appendRows(rows);\r\n                doneCallback();\r\n            });\r\n    };\r\n\r\n    tableau.registerConnector(dotalignConnector);\r\n})();\r\n\r\n$(document).ready(function() {\r\n    var accessToken = Cookies.get(\"accessToken\");\r\n    console.log('In ready');\r\n    var hasAuth = accessToken && accessToken.length > 0;\r\n\r\n    if (hasAuth) { \r\n        console.log(\"Access token was found. Setting it into the password field.\");\r\n        tableau.password = accessToken;\r\n    } else { \r\n        console.log(\"Access token was not found\");\r\n    }\r\n\r\n    updateUIWithAuthState(hasAuth);\r\n\r\n    $(\"#connectbutton\").click(function() {\r\n        doAuthorizationRedirect();\r\n    });\r\n\r\n    $(\"#submitButton\").click(function() {\r\n        tableau.connectionName = \"DotAlign Cloud API\";\r\n        tableau.submit();\r\n    });\r\n});\r\n\r\nfunction updateUIWithAuthState(hasAuth) {\r\n    if (hasAuth) {\r\n        console.log(\"Page has access token\");\r\n        $(\".notsignedin\").css('display', 'none');\r\n    } else {\r\n        console.log(\"Page does not have access token\");\r\n        $(\".notsignedin\").css('display', 'block');\r\n    }\r\n}\r\n\r\nfunction doAuthorizationRedirect() {\r\n    var environment = helpers.getEnvironmentParams();\r\n\r\n    var authorizationUrl = \r\n        `https://login.microsoftonline.com/${environment.tenant_id}/oauth2/v2.0/authorize`;\r\n    \r\n    // Redirect to the server that is helping complete the OAuth flow\r\n    var redirectUri = environment.oAuthBaseUrl + \":\" + environment.oAuthPort + environment.redirect;\r\n\r\n    var fullUrl = `${authorizationUrl}?` + \r\n        `client_id=${environment.client_id}&` + \r\n        `response_type=code&` + \r\n        `redirect_uri=${redirectUri}&` + \r\n        `scope=${environment.scope}&`;\r\n  \r\n    console.log(\"Full authorization url: \");\r\n    console.log(fullUrl);\r\n    \r\n    // Send the client to the authorize url to begin the OAuth flow\r\n    window.location.href = fullUrl;\r\n}\n\n//# sourceURL=webpack://DotAlignCloudConnectorForTableau/./src/tableau/oauth_flow.js?");
})();

/******/ })()
;